[package]
authors.workspace = true
categories.workspace = true
description.workspace = true
edition.workspace = true
homepage.workspace = true
keywords.workspace = true
license.workspace = true
name = "concision"
readme.workspace = true
repository.workspace = true
version.workspace = true

[features]
default = [ "std" ]
full = [
    "approx",
    "default",
    "derive",
    "macros",
    "rand",
    "serde",
    "tracing",
]

derive = [ "dep:concision-derive" ]

macros = [ "dep:concision-macros" ]

# ********* [FF] Dependencies *********

approx = [
    "concision-core/approx",
]

rand = [
    "concision-core/rand",
]

rayon = ["concision-core/rayon"]

serde = [
    "concision-core/serde",
]

tracing = [
    "concision-core/tracing",
]

# ********* [FF] Environment(s) *********

std = [
    "concision-core/std",
]

# ********* [FF] Blas *********
blas = [
    "concision-core/blas",
]

intel-mkl-system = [ "blas" ]

intel-mkl-static = [ "blas" ]

netlib-system = [ "blas" ]

netlib-static = [ "blas" ]

openblas-system = [ "blas" ]

openblas-static = [ "blas" ]

[lib]
bench = true
crate-type = [ "cdylib", "rlib" ]
doctest = false
test = true


[dependencies]
concision-core = { path = "../core", version = "0.1.16" }
concision-derive = { optional = true, path = "../derive", version = "0.1.16" }
concision-macros = { optional = true, path = "../macros", version = "0.1.16" }

[dev-dependencies]
anyhow = { workspace = true }
approx = { workspace = true }
lazy_static = { workspace = true }
ndarray = { workspace = true }
num = { features = [ "rand", "serde" ], workspace = true }
tracing = { workspace = true }
tracing-subscriber  = { workspace = true }

[package.metadata.docs.rs]
all-features = true
rustc-args = [ "--cfg", "docsrs" ]

[package.metadata.release]
no-dev-version = true
tag-name = "{{version}}"

[[example]]
name = "basic"
